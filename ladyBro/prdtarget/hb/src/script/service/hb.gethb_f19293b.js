!function(e,n){function i(){a()}function t(){e(document).on("click",function(n){var i=n.target,t=e(i),a=i.dataset,s=a&&a.event;if($H.isNoEvent(t))return!1;switch(s){case"share-btn":t.parent().hasClass("data-focus-sn")?$H.toFocusSN():$H.toGetGroupHB()}return!1})}function a(){var i,t=URL_PARAM.status,a=l,s="0"===t;if(s)i=e(TPL_DESC.format({nickName:decodeURIComponent(URL_PARAM.nickName),rewardValue:URL_PARAM.rewardValue})),a.append(TPL_LOGOS),a.append(i);else{if(ds=STATUS_MAP[t],!ds)return $H.tipNetError();ds.afterFn&&ds.afterFn()}r.show(),R.show(),s&&n.Req.queFriendList(function(e){p.empty();var n,i,t=[];if(e=e||[],!(e.length<1)){for(var a=0,s=e.length;s>a;a++)i=e[a],n=$H.getDate(i.receiveDate),i.date="{m}-{d} {h}:{mi}:{s}".format(n),i.nickName=i.nickName||"神秘好友",i.receiveReward=i.receiveReward,t.push(TPL_FRIEND.format(i));p.append(t.join("")),u.show()}},{dirPurseId:URL_PARAM.solutionId,openId:URL_PARAM.openId});var o={activityId:URL_PARAM.activityId,solutionId:URL_PARAM.solutionId,type:URL_PARAM.shareInfoType||"4",path:n.Const.PRO_PATH+(f?n.Const.DO_GET_GROUP_HB:n.Const.DO_GET_HB)};n.Req.queShareInfo(function(n){$H.share(e.extend({},o,n))},o,!1)}function s(){i(),t()}function o(){}var r=e(".get-hb"),d=r.find(">.friend-by-bg>ul"),c=d,l=c.eq(0),u=e(".friend-view"),p=u.find("ul"),f=(e(".share-root"),!1),h=e(".share-btn>a"),R=e(".get-hb-foot");TPL_LOGOS=['<li class="sub-hb-icon">',"</li>"].join(""),TPL_DESC=['<li class="sub-hb-bg">','<div class="get-hb-desc">                   ',"		<em>¥</em>                                    ","		<span>{rewardValue}</span>                    ","		<em>元</em>                                   ","		<p>领取<strong>{nickName}</strong>的红包, <br />所有红包可叠加使用，多领多用~</p> ","	</div>                                            ","</li>"].join(""),TPL_FRIEND=["<li>																",'<img src="{icon}" onerror="this.src=\'img/nofilter/defaultHead.jpg\'">        ',"	<dl>                                                            ","		<dd>                                                        ","			<p>{nickName}<i></i><span>{date}</span></p>               ","			<p>{desc}</p>                                           ","		</dd>                                                       ","		<dd>                                                        ","			<div>领到<i></i><em>{receiveReward}</em><i></i>元</div> ","		</dd>                                                       ","	</dl>                                                           ","</li>                                                             "].join(""),STATUS_MAP={1:{afterFn:function(){r.removeClass("get-hb").addClass("get-hbs active-end"),l.append('<li class="big-font">活动已结束</li><li class="small-font">去购物，更多惊喜活动等你参加</li>'),h.text("关注苏宁易购"),h.parent().addClass("data-focus-sn"),e(".get-hbs").css({display:"block",height:window.innerHeight+"px","background-size":"20rem "+window.innerHeight+"px"})},isShareGroup:!0}},URL_PARAM=n.Data.URL_PARAM,MOUDLE_NAME="GETHB",e(function(){o(),s()})}(Zepto,HB);