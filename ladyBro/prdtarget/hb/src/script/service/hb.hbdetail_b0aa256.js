!function(e,i){function d(){n()}function t(){e(document).on(i.EVENT.CLICK,function(e){var d=e.target;switch(d.id){case"invite-friend":return s=i.InviteFriends({status:3}),window.onpopstate=function(e){console.info(e)},!1}})}function n(){a()}function a(){i.Req.queHBDetail(function(e){l.empty();var d=e.friendLuckList,t=e.dirPurse;t.reward=t.reward;var n=[],a=t.receivedTime;if(a){var r=a.indexOf(".");-1!=r&&(t.receivedTime=a.substring(0,r))}t.path=$H.IMG_HB,"ture"===t.isExpired?(t.path=$H.IMG_HB_EXPIRED,t.desc="已过期",t.itemClass="disabled"):t.desc="0"===t.noReceiveNum?v.format("已领完","已获得{0}元奖金红包".format(t.reward)):v.format(p.format(t.receiveNum,t.noReceiveNum),"领取完获得{0}元奖金红包".format(t.reward))+'<dd><a href="#" class="hb-a-btn" id="invite-friend">继续拉好友</a></dd>',t.prizeMark<=0&&(t.status=""),n.push(c.format(t)),m.prepend(n.join("")),m.show();var o,s,I=[];if(d){for(var w=0,H=d.length;H>w;w++)s=d[w],o=$H.getDate(s.receiveDate),s.date="{m}-{d} {h}:{mi}:{s}".format(o),s.nickName=s.nickName||"神秘好友",s.receiveReward=s.receiveReward,I.push(f.format(s));l.append(I.join("")),u.show()}$H.share({path:i.Const.PRO_PATH+(h?i.Const.DO_GET_GROUP_HB:i.Const.DO_GET_HB),activityId:t.activityId,solutionId:t.dirPurseId,title:t.shareTitle,shareContent:t.shareContent,shareIcon:t.shareIcon})},{code:I.code,dirPurseId:I.dirPurseId,openId:I.openId},!1)}function r(){d(),t()}function o(){$H.hideShareBtn(!1)}var s,c=[' <section class="item {itemClass}" data-detail-id="{id}" data-open-id="{openId}" > ','		<div class="title"><div>闺蜜节狂购high不停-苏宁易购</div>        ',"		<span>{receivedTime}</span></div>                                         ",'		<div class="item-detail" data-detail-id="{id}" data-open-id="{openId}">       ','			<img src="{path}" onerror="this.src=\'img/nofilter/hb-pic.jpg\'"/>                                      ',"			<dl>{desc}</dl>                                                                ","		</div>                                                                               "," </section>                                                                                 "].join(""),f=["<li>																",'<img src="{icon}" onerror="this.src=\'img/nofilter/defaultHead.jpg\'">        ',"	<dl>                                                            ","		<dd>                                                        ","			<p>{nickName}<i></i><span>{date}</span></p>               ","			<p>{desc}</p>                                           ","		</dd>                                                       ","		<dd>                                                        ","			<div>领到<i></i><em>{receiveReward}</em><i></i>元</div> ","		</dd>                                                       ","	</dl>                                                           ","</li>                                                             "].join(""),p='已领取{0}个，还剩下<i class="a1">{1}</i>个',v='<dd>{0}</dd><dd><div class="wbox-flex of gray9">{1}</div></dd> ',m=(e("body>section"),e("body>section .content")),u=e(".friends"),l=u.find("ul"),h=(e(".hb-tip"),!1),I=i.Data.URL_PARAM;e(function(){o(),r()})}(Zepto,HB);