!function(t,e,i){var a=function(t){var e=document.createElement("div");return e.innerHTML=t,e.childNodes};i.alertBox=function(i){function s(t){this.opts=t||{},this.type=this.opts.type||"doubleBtn",this.title=this.opts.title||"温馨提示",this.cancelText=this.opts.cancelText||"取消",this.confirmText=this.opts.confirmText||"确定",this.cancel=this.opts.cancel||function(){},this.confirm=this.opts.confirm||function(){},this.callback=this.opts.callback||function(){},this.msg=this.opts.msg||""}s.prototype={constructor:s,getEl:function(t,e){return t.querySelector(e)},init:function(){var t=this;t.addAlertBox(),"mini"==t.type?t.minEvent():t.alertEvent()},addAlertBox:function(){var i=this;i.getMask(),i.alertBox=a(i.getHtml())[0],i.alertBox.style.cssText="width:"+parseInt(.7*i.getPos()[0])+"px;top:"+parseInt(i.getPos()[2]+.3*t.innerHeight-i.alertBox.offsetHeight/2)+"px;margin:auto 15%;",i.getEl(e,"body").appendChild(i.alertBox)},getPos:function(){var t=e.documentElement.offsetWidth||e.body.offsetWidth,i=e.documentElement.offsetHeight||e.body.offsetHeight,a=e.documentElement.scrollTop||e.body.scrollTop;return t.innerHeight>i&&(i=t.innerHeight),[t,i,a]},getHtml:function(){var t="",e=this;switch(e.type){case"doubleBtn":t+='<div class="alert-box" id="alertBox"><div class="alert-title">'+e.title+'</div><div class="alert-msg">'+e.msg+'</div><div class="wbox"><a href="javascript:;" class="w-flex ybx-btn ybx-btn-d mr10"><i>'+e.cancelText+'</i></a><a href="javascript:;" class="w-flex ybx-btn ybx-btn-a"><i>'+e.confirmText+"</i></a></div></div>";break;case"onceCancel":t+='<div class="alert-box" id="alertBox"><div class="alert-title">'+e.title+'</div><div class="alert-msg">'+e.msg+'</div><div class="wbox"><a href="javascript:;" class="w-flex ybx-btn ybx-btn-d mlr30">'+e.cancelText+"</a></div></div>";break;case"onceConfirm":t+='<div class="alert-box" id="alertBox"><div class="alert-title">'+e.title+'</div><div class="alert-msg">'+e.msg+'</div><div class="wbox"><a href="javascript:;" class="w-flex ybx-btn ybx-btn-a mlr30">'+e.confirmText+"</a></div></div>";break;case"mini":t+='<div class="alert-box alertBoxBlack" id="alertBox"><div class="alert-msg">'+e.msg+"</div></div>"}return t},getMask:function(){var t=this,i=t.getPos(),a=e.createElement("div");a.id="tMask",t.getEl(e,"body").appendChild(a),a.style.cssText="position:absolute;left:0;top:0;width:"+i[0]+"px;height:"+i[1]+"px;background:rgba(0,0,0,0.3);z-index:99","mini"==t.type&&(a.style.backgroundColor="rgba(255, 255, 255, 0)")},minEvent:function(){var t=this;setTimeout(function(){navigator.userAgent.match(/iPhone/i)?$(t.alertBox).fadeOut(500,function(){t.getEl(e,"body").removeChild(t.alertBox)}):t.remove(t.alertBox),t.remove(t.getEl(e,"#tMask"))},2e3)},alertEvent:function(){var t=this;if(t.alertBox){var e=t.getEl(t.alertBox,".ybx-btn-d"),i=t.getEl(t.alertBox,".ybx-btn-a");e&&t.reset(e,t.cancel),i&&t.reset(i,t.confirm)}},reset:function(t,i){var a=this;t.onclick=function(){i(this),a.remove(a.alertBox),a.remove(a.getEl(e,"#tMask")),a.callback&&a.callback()}},remove:function(t){this.getEl(e,"body").removeChild(t)}},new s(i).init()}}(window,window.document,window.HB=window.HB||{});
;!function(e,n){n.method=function(e,t){function l(){}l.prototype={constroctor:l,getEl:function(e,n){return e.querySelectorAll(n)},inputHandle:function(e){var n=this,t=e.el,l=n.getEl(t.parentNode.parentNode,e.closeCls)[0];l.style.display=t.value.length>0?"block":"none",l.onclick=function(){Array.prototype.slice.call(n.getEl(this.parentNode,"input")).forEach(function(e){e.value=""}),this.style.display="none"}},yzmHandle:function(e){var t=this,l=e.el,a=e.count,i=e.grayCls;l.innerHTML="<i>"+a+"</i>重新获取",l.className=l.className.trim()+" "+i,l.removeEventListener("click",n.yzm,!1);var s=setInterval(function(){2>a?(clearInterval(s),l.innerHTML="获取验证码",l.className=l.className.replace(" "+i,"").trim(),l.addEventListener("click",n.yzm,!1)):t.getEl(l,"i")[0].innerHTML=--a},1e3)},passHandle:function(e){function n(e,n){var t=0==e?e++:e--,l=5>n?"none":"block";i[e].value=i[t].value,i[1].style.zIndex=n,i[1].style.display=l}var t=this,l=e.el,a=e.showCls,i=t.getEl(l.parentNode,"input");l.className.trim().indexOf(" ")<0?(l.className=l.className.trim()+" "+a,n(0,6)):(l.className=l.className.replace(" "+a,"").trim(),n(1,4))}},(new l)[e](t)}}(window,window.YG=window.YG||{});
;!function(o){o.Const={PRO_PATH:"http://msale.suning.com/mtss-web/",APP_ID:"wx6aed9fdd44da794e",PRO_PATH_BIND:"https://msale.suning.com/mtss-web/",BUY_PATH:"http://m.suning.com/activeload_P443_0.html",D_SNAPP_PATH:"http://mapp.suning.com/a.php?s=qrcode/offline&f=ygznxyrc&pack=com.suning.mobile.ebuy#mp.weixin.qq.com",CHANNEL_ID:"1001001",APP_ANDROID:"http://a.app.qq.com/o/simple.jsp?pkgname=com.suning.mobile.ebuy&g_f=992129",APP_IPHONE:"http://a.app.qq.com/o/simple.jsp?pkgname=com.suning.mobile.ebuy&g_f=992129",SHARE_IMG:"http://sale.suning.com/act/20150227/100/100-100.jpg",FOCUS_SN:"http://mp.weixin.qq.com/s?__biz=MjM5NjA3MTU0MA==&mid=201247335&idx=1&sn=f6ef37131907242d75b347e378460a2b#rd",ACTIVE_RULE:"http://sale.suning.com/act/20150212/gmj/index.html",GUIDES:"http://m.suning.com/channel_P597_0.html",SHARE_TITLE:"有钱，任性！发100元大红包啦！",SHARE_DESC:"有钱，任性！发100元大红包啦！",CHECK_WECHAT:"mps/queryShareConfigInfo.do",BIND_ACCOUNT:"bindaccount.html",GET_GROUP_HB:"getgrouphb.html",GET_HB:"gethb.html",HB_DETAIL:"hbdetail.html",MY_HB:"myhb.html",VALIDATE_CODE:"validatecode.html",DO_VALIDATE_CODE:"gotoBindEgoAccount.do",DO_GET_HB:"mps/normalhb.do",DO_GET_GROUP_HB:"mps/grouphb.do",QUE_MY_TO_HB:"mps/solutionList.do",QUE_MY_FROM_HB:"mps/normalList.do",QUE_HB_DETAIL:"mps/solutionDetail.do",CHECK_PHONE:"verifyBindAct.do",CHECK_CODE:"validateAuthCode.do",GO_BIND_ACCOUNT:"bindEgoAccount.do",SEND_CODE:"register/sendAuthCode.do",REGISTER_BIND:"regBind.do",QUE_SHARE_INFO:"mps/queryShareInfo.do",QUE_FRIEND_LIST:"mps/luckyList.do",IS_TEST:!1}}(window.HB=window.HB||{});
;!function(t,e,n){var i=Array.prototype.slice;!String.format&&(String.prototype.format=function(){var t=1==arguments.length&&arguments[0]instanceof Object,e=t?arguments[0]:arguments,n=t?/\{(\w+)\}/g:/\{(\d+)\}/g;return this.replace(n,function(t,n){return e[n]||""})}),String.prototype.replaceAll=function(t,e){return RegExp.prototype.isPrototypeOf(t)?this.replace(t,e):this.replace(new RegExp(t,"g"),e)},n.$H=e.Util={IMG_HB:"img/nofilter/hb-pic.jpg",IMG_HB_EXPIRED:"img/nofilter/hb-gray.jpg",deferred:function(){var t=i.call(arguments,0);return function(e){for(var n=0,i=t.length;i>n&&t[n](e);n++);}},onlyClass:function(t,e){t.addClass(e).siblings().removeClass(e)},isNoEvent:function(t){return t.hasClass("hb-no-event")},getDate:function(t){try{var e=t.indexOf(".");-1!=e&&(t=t.substring(0,e));var n=t.split(" "),i=n[0].split("-"),o=n[1].split(":");return{y:i[0],m:i[1],d:i[2],h:o[0],mi:o[1],s:o[2]}}catch(r){return{y:1,m:1,d:1,h:1,mi:1,s:1}}},isMobile:function(){return navigator.userAgent.match(/Win/i)||navigator.userAgent.match(/MacIntel/i)||navigator.userAgent.match(/Linux/i)?!1:!0},isPhone:function(){return/(iPhone|iPod|iPad);?/i.test(navigator.userAgent)},isAndriod:function(){return/android/i.test(navigator.userAgent)},setInterval:function(t,e,n){var i=t,o=0,r="",a=function(){var t=i-o;0==t?(clearInterval(r),n&&n()):(e&&e(t),o++)};r=setInterval(a,1e3)},getURLParam:function(){var t=location.search,e=/[^\&]+=[^\&]+/g;if(!t)return{};t=t.slice(1);for(var n,i,o={};n=e.exec(t);)(i=n[0].match(/[^\=]+/g))&&(o[i[0]]=i[1]);return o},toMyHB:function(){this.redirect(this.addURLParam(e.Const.MY_HB,{openId:e.Data.OPEN_ID}))},toGuides:function(){this.redirect(e.Const.GUIDES)},toFocusSN:function(){this.redirect(e.Const.FOCUS_SN)},toGetGroupHB:function(){location.href=this.getWeChat(e.Const.PRO_PATH+e.Const.DO_GET_GROUP_HB)},toValidateCode:function(){location.href=this.getWeChat(e.Const.VALIDATE_CODE)},toApp:function(){this.redirect(this.isPhone()?e.Const.APP_IPHONE:e.Const.APP_ANDROID)},redirectId:function(n,i){this.redirect(n,t.extend({},i,{openId:e.Data.OPEN_ID}))},redirect:function(t,e){t?location.href=e?this.addURLParam(t,e):t:location.reload()},tipNetError:function(){try{Wap.ErrorNet()}catch(t){this.tipError("网络异常，请稍后再试"),console.error("Component Wap.ErrorNet is not exist")}},tipError:function(t){HB.alertBox({type:"mini",msg:t})},addURLParam:function(e,n){var i=-1===e.indexOf("?"),o="&{0}={1}",r="";return t.each(n,function(t,e){r+=o.format(t,e)}),i&&(r=r.replace("&","?")),e+r},toBuy:function(){var t=encodeURIComponent([e.Const.PRO_PATH,e.Const.DO_VALIDATE_CODE,"?target_url=",e.Const.BUY_PATH,"&channel=",e.Const.CHANNEL_ID].join("")),n=this.getWeChat(t,{state:1});this.redirect(n)},toDownLoad:function(){this.redirect(this.isPhone()?e.Const.APP_IPHONE:e.Const.APP_ANDROID)},getWeChat:function(t,n){var i=n||{};-1===t.indexOf("http")&&(t=encodeURIComponent([e.Const.PRO_PATH,"RES/hb/",t].join("")));var o=["https://open.weixin.qq.com/connect/oauth2/authorize?appid={0}&redirect_uri=",t,"&response_type=code&scope=snsapi_base&state={1}#wechat_redirect"].join("");return o.format(e.Const.APP_ID,i.state)},toggle:function(t,e,n){var i,o;n&&(i=n.show,o=n.hide),e?(this.show(t),i&&i()):(this.hide(t),o&&o())},error:function(t){var e=n.console;e||(e={},e.error=function(){}),e.error(t)},formSubmit:function(e,n,i){var o,r,a=[];"string"!=typeof e?(o=e.url,r=e.pros||{}):o=e;var s=t(['<form method="post" action="',o,'" style="position: absolute;top:-2000;left: -2000;" />'].join("")),c='<input type="hidden" name="{0}" value="{1}" />',u=[];r&&t.each(r,function(t,e){s.attr(t,e)}),t.each(n,function(t,e){u.push(c.format(t,e))}),s.append(u.join("")),a=t.makeArray(i);for(var d=0,h=a.length;h>d;d++)s.append(a[d]);t("body").append(s),s.submit(),s&&s.remove()},share:function(t){var n="{0}?activityId={1}&dirPurseId={2}",i=e.Const;t.url=this.getWeChat(encodeURIComponent(n.format(t.path,t.activityId,t.solutionId)));var o={imgUrl:t.shareIcon||i.SHARE_IMG,link:t.url,desc:t.shareContent||i.SHARE_DESC,title:t.title||i.SHARE_TITLE};wx.ready(function(){wx.checkJsApi({jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","hideMenuItems","showMenuItems"],success:function(){}}),wx.onMenuShareAppMessage(o),wx.onMenuShareTimeline(o)})},fixedPosHandler:function(e){navigator.userAgent.match(/AppleWebKit.*Mobile.*/)&&t(window).resize(function(){t(e).css({bottom:t(e).offset().top<=300?"-50px":"20px"})})},hideShareBtn:function(t){function e(){t?WeixinJSBridge.call("hideOptionMenu"):(WeixinJSBridge.call("hideToolbar"),WeixinJSBridge.call("showOptionMenu"))}"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",e,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",e),document.attachEvent("onWeixinJSBridgeReady",e)):e()},getInt:function(t){return t?isNaN(t)?0:parseInt(t):0},isExistLoading:function(){return t(".sn-html5-loading").size()>0},show:function(t){t.style.display="block"},adaptHeight:function(){var e=parseInt(n.innerHeight),i=parseInt(document.body.clientHeight+t(".get-hb-foot").height()),o=Math.max(e,i),r=document.querySelector("section"),a=r.classList;a=Array.prototype.slice.call(a),a.push("pd-hb-btm");var s=a.join(" ");r.style.height=o+"px",r.style.backgroundSize="20rem "+o+"px",i>=e&&(r.className=s)}}}(Zepto,window.HB=window.HB||{},window);
;!function(t){t.Data={IS_MOBILE:$H.isMobile(),URL_PARAM:$H.getURLParam()},t.STYLE={UN_EVENT:"hb-no-event"},t.EVENT={CLICK:t.Data.IS_MOBILE?"touchstart":"click"},$.extend(t.Data,{CODE:t.Data.URL_PARAM.code,OPEN_ID:t.Data.URL_PARAM.openId}),window.test=function(n){t.Const.IS_TEST&&(n instanceof Function?n():alert(n))}}(window.HB=window.HB||{});
;!function(e,t){var n=t.Const;t.Req={getDefError:function(){$H.tipNetError()},getWholeURL:function(e){return-1===e.indexOf("http")?n.PRO_PATH+e:e},req:function(t,n,i,r,o){!o&&(o=this.getDefError),e.ajax({url:this.getWholeURL(t),success:n,error:o,async:void 0===r?!0:r,dataType:"json",data:i,type:"post",timeout:6e4,xhrFields:{withCredentials:"true"}})},queGroupHB:function(e,t,i){this.req(n.QUE_GROUP_HB,e,t,i)},queMyToHB:function(e,t){this.req(n.QUE_MY_TO_HB,e,t)},queMyFromHB:function(e,t){this.req(n.QUE_MY_FROM_HB,e,t)},queHBDetail:function(e,t,i){this.req(n.QUE_HB_DETAIL,e,t,i)},queGetHB:function(e,t){this.req(n.QUE_GET_HB,e,t)},queShareInfo:function(e,t,i){this.req(n.QUE_SHARE_INFO,e,t,i)},queFriendList:function(e,t){this.req(n.QUE_FRIEND_LIST,e,t)},checkPhone:function(e,t){this.req(n.CHECK_PHONE,e,t)},checkCode:function(e,t,i){this.req(n.CHECK_CODE,e,t,i)},bindAccount:function(e,t){$H.redirect($H.getWeChat($H.addURLParam(n.PRO_PATH+n.GO_BIND_ACCOUNT,t)))},sendCode:function(e,t){this.req(n.SEND_CODE,e,t)},regBind:function(e,t){$H.redirect($H.getWeChat($H.addURLParam(n.PRO_PATH_BIND+n.REGISTER_BIND,t)))}}}(Zepto,window.HB);
;!function(e,t){function n(){o()}function a(){$H.fixedPosHandler(".yg-fixed"),e(document).on(t.EVENT.CLICK,function(e){var t=e.target;switch(t.id){case"yzm":return void s(e);case"hd-code-submit":return void u(e)}}),p.on("blur",function(){v=this.value,l()}),p.on("keyup",function(){var e=this.value.trim();e.length>=11&&(this.value=e.substr(0,11)),e.length<11&&B.text("")}),e("#hd-phone").keyup(function(){YG.method("inputHandle",{el:this,closeCls:".yg-input-close"})})}function o(){var n,a=x.returnFlg;switch(a){case"1":n="该手机已经绑定过多个账号,请检查账号";break;case"6":n="您的手机号码未开通苏宁易购账号哦，快去苏宁易购网站开通吧！";break;case"3":n="绑定失败";break;case"99":n="验证码输入失败";break;case"4":n="绑定成功",$H.redirectId(x.target_url);break;case"5":n="已经绑定过该手机";break;case"7":n="手机号已绑定，请更换手机号";break;case"2":$H.redirect(t.Const.BIND_ACCOUNT,{phone:v||x.phone,target_url:x.target_url,authcode:x.authcode,state:x.state});break;default:e("#alertBox").hide()}n&&HB.alertBox({type:"mini",msg:n})}function r(){return v=p.val(),!v}function i(){return b=C.val(),!b}function c(){var e=r(),t=i();return e||t}function u(){_||!c()&&h()&&t.Req.checkCode(function(e){return e?(_=!1,"1002"!=e.returnCode?HB.alertBox({type:"mini",msg:"短信验证失败"}):void t.Req.bindAccount(function(){},{target_url:encodeURIComponent(x.target_url)+","+v+","+b+","+x.channel||t.Const.CHANNEL_ID})):void 0},{mobilenum:v,authcode:b},!1)}function s(){if(!r()&&h()){var n=e(this);return n.hasClass(HB.STYLE.UN_EVENT)?!1:void t.Req.sendCode(function(e){var t=e.returnCode;if("1001"==t)d(!0),$H.setInterval(60,function(e){k.text(e+"s重新获取")},function(){d(!1),k.text("重新获取")});else{var n="获取失败";switch(t){case"01001":n="一个手机号每天只有三次获取验证码机会";break;case"01002":n="获取验证码过于频繁，请60秒后再试";break;case"01003":n="验证码超过限制，请稍后再试"}HB.alertBox({type:"mini",msg:n})}},{mobilenum:v})}}function d(e){var t=HB.STYLE.UN_EVENT+" yg-gray-bg";e?k.addClass(t):k.removeClass(t).addClass("yg-yzm-btn")}function l(){h()&&t.Req.checkPhone(function(e){H=e.isBind,y="1"===e.success,g.text(H?" 您手机号码对应的苏宁易购帐户已经与其他微信帐户绑定，请更换输入":""),B.text(y?"":"您的手机号码未注册苏宁易购会员，提交后将跳转设置密码页面完成注册。")},{mobilenum:v,openId:t.Data.OPEN_ID})}function h(){return/^1\d{10}$/.test(v)?(g.text(""),!0):(g.text("请输入正确的手机号码"),!1)}function f(){n(),a()}function m(){$H.hideShareBtn(!0)}var v,b,g=(['<a class="{0}" href="javascript:;">  ','	<p class="{1}">                     ',"		<em>{2}</em>                  ","		<em>{3}</em>                    ","	</p>                                   ","</a>                                      "].join(""),e(".hd-warn-phone")),p=(e(".hd-warn-code"),e("#hd-phone")),C=e("#yanzheng"),k=e("#yzm"),y=!1,H=!1,x=t.Data.URL_PARAM,B=e(".hb-code-tip"),_=!1;test("validatecode page "+location.href),e(function(){m(),f()})}(Zepto,HB);
;!function(){var t=function(t){var n="";t.forEach(function(t){n+=['<script type="text/javascript" async="true" src="',t,'"></script>'].join("")}),document.body.insertAdjacentHTML("beforeend",n)};window.addEventListener("load",function(){setTimeout(function(){t(["https://imgssl.suning.com/javascript/sn_da/da_opt.js"])},100)})}();